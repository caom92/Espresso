include globals.pug

//- Barra de navegacion en la parte superior de la pagina
-
  var navBarConfig = {
    sideNavButton: {
      id: "'sidenav-activation-btn'",
      icon: 'mdi mdi-menu white-text',
      showFlag: "this.home.showSideNav === true"
    }
  };
+navBar(navBarConfig)('[navbarClass]'="'green'")
  mz-navbar-item
    +select(
      "'zone-selection'", 
      'selectedZoneID', 
      "'Zona'", 
      'home.zones', 
      '.name', 
      '.id', 
      'onZoneSelectionChanged(selectedZoneID)'
    )(
      '*ngIf'="home.showZoneMenu"
    )
  mz-navbar-item
    +link('http://www.jfdc.tech/')
      i.mdi.mdi-home
  mz-navbar-item
    +link()('[id]'="'translation-button'")
      i.mdi.mdi-translate
    +dropdownMenu("'language-options'", "'translation-button'")
      mz-dropdown-item
        +link()(
          '(click)'='onLanguageButtonClicked("es")'
          click-stop-propagation
        )='Español'
      mz-dropdown-item
        +link()(
          '(click)'='onLanguageButtonClicked("en")'
          click-stop-propagation
        )='English'

//- Menu de navegacion lateral
+sideNav("'sidenav'", "'sidenav-activation-btn'")(
  '[fixed]'="'true'"
  '*ngIf'="this.home.showSideNav === true"
)
  div.logo-area
  +sideNavCollapsible(
    '{{home.userFullName}}', 'mdi mdi-account-circle white-text'
  )(id='account-options')
    mz-sidenav-link
      +uiRouterLink('edit-profile')(class='waves-effect waves-green')
        ='Editar perfil'
    mz-sidenav-link
      +link()(
        class='waves-effect waves-green'
        '(click)'='onLogOutButtonClicked()'
      )
        ='Cerrar sesión'
  
  //- Menu de navegacion para el administrador
  mz-sidenav-link('*ngIf'="home.roleName === 'Administrator'")
    +link()(class='side-menu-link waves-effect waves-green')
      i.mdi.mdi-account-multiple.mdi-24px
      ='{{ menu.options.users }}'
  mz-sidenav-link('*ngIf'="home.roleName === 'Administrator'")
    +link()(class='side-menu-link waves-effect waves-green')
      i.mdi.mdi-domain.mdi-24px
      ='{{ menu.options.zones }}'
  mz-sidenav-link('*ngIf'="home.roleName === 'Administrator'")
    +link()(class='side-menu-link waves-effect waves-green')
      i.mdi.mdi-note-multiple-outline.mdi-24px
      ='{{ menu.options.programs }}'
  mz-sidenav-link('*ngIf'="home.roleName === 'Administrator'")
    +link()(class='side-menu-link waves-effect waves-green')
      i.mdi.mdi-account-star.mdi-24px
      ='{{ menu.options.supervisors }}'
  mz-sidenav-link('*ngIf'="home.roleName === 'Administrator'")
    +link()(class='side-menu-link waves-effect waves-green')
      i.mdi.mdi-pen.mdi-24px
      ='{{ menu.options.signatures }}'

  //- Menu de navegacion para el supervisor
  mz-sidenav-link('*ngIf'="home.roleName === 'Supervisor'")
    +link()(class='side-menu-link waves-effect waves-green')
      i.mdi.mdi-comment-check.mdi-24px.mdi-dark
      ='{{ menu.options.authorizations }}'
      mz-badge(
        '*ngIf'='home.numPendingAuthorizations != 0'
        '[value]'='home.numPendingAuthorizations'
        '[caption]'="' '"
        '[badgeClass]'="'green'"
      )
  div('*ngIf'="home.roleName === 'Supervisor'")
    +sideNavCollapsible(
      "{{ menu.options.inventory + ' ' + program }}", 'mdi mdi-briefcase'
    )(
      '*ngFor'='let program of home.programs | keys'
    )
      mz-sidenav-link(
        '*ngFor'='let module of home.programs[program].names | keys'
      )
        +link()(class='waves-effect waves-green')
          ='{{ module }}'

  //- Menu de navegacion para el empleado, el supervisor, gerente o director
  div('*ngIf'="home.roleName != 'Administrator'")
    +sideNavCollapsible(
      '{{ program }}', 'mdi mdi-wrench'
    )(
      '*ngFor'='let program of home.programs | keys'
    )
      mz-sidenav-link(
        '*ngFor'='let module of home.programs[program].names | keys'
      )
        +link()(class='waves-effect waves-green')
          ='{{ module }}'

  //- El boton para reportar errores del sistema
  mz-sidenav-link
    +link()(class='side-menu-link waves-effect waves-green')
      i.mdi.mdi-alert.mdi-24px.mdi-dark
      ='{{ menu.options.reportProblem }}'

//- Area principal de la pagina
div.container('[ngClass]'="{ 'with-sidenav': home.showSideNav }"): ui-view