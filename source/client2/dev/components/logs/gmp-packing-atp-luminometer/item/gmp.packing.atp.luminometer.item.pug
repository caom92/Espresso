include ../../../log-ionic-materialize.pug

mixin testButtons()
  +row()(*ngIf='isAuthorization === false')
    +col()(class="s1 m1 l1 offset-s10 offset-m10 offset-l10")
      button.green(mz-button, type='button', float='true', (click)='onEntryAdd()')
        i(mz-icon-mdi, [icon]="'plus'")
    +col()(class="s1 m1 l1")
      button.red(mz-button, type='button', float='true', (click)='onEntryRemove()', [disabled]="itemForm.controls.weeks.controls.length <= 1")
        i(mz-icon-mdi, [icon]="'minus'")

+card()([formGroup]='itemForm')
  +cardHeader("{{item.name}}")
  +cardContent()
    gmp-packing-atp-luminometer-week(*ngFor='let week of item.weeks; let i = index', [itemID]='item.id', [week]='week', [weekGroup]='itemForm.controls.weeks.controls[i]')
    +testButtons()